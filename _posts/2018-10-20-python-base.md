---
layout: post
title: Python基础学习笔记
date: 2018-10-20
tag: 编程语言
---

## Python语言简介
&emsp;&emsp;Python是一门解释型语言，不需要代码编译，代码不能加密，直接使用源代码即可运行程序，代码在执行时Python解释器会一行一行地翻译成CPU能理解的机器码，所以运行速度比编译型语言差。
Python的采用缩进方式组织代码结构，以#开头的语句是注释，当语句以冒号“:”结尾时，缩进的语句视为代码块。按照约定俗成的管理，应该始终坚持使用4个空格的缩进。
缩进的坏处就是“复制－粘贴”功能失效了，重构代码时，粘贴过去的代码必须重新检查缩进是否正确。Python程序大小写敏感，且运行过程变量类型可以随意变化。

## 变量与常量
python的变量和常量与Java、C等语言的定义类似，常量通常用全部大写的变量名表示常量，但是Python没有任何机制保证常量的值不能被改变，不像Java可以用final关键字限制。

## 数据类型    
1. 整数    
不像C或者Java语言分的那么细，python不区分多少位的整数，可以是任意的正负整数。也经常用十六进制表示，十六进制用0x前缀和0-9，a-f表示。整数运算永远是精确的，运算结果还是整数。

2. 浮点数     
即带小数点的数字，浮点数运算可能会有四舍五入的误差。对于很大或很小的浮点数，就必须用科学计数法表示，把10用e替代，0.0000011写成1.1e-6。

3. 字符串    
&emsp;&emsp;字符串是以''或""括起来的任意文本，需要转义的字符反斜杠 \ 转义。对于一个字符串里要是有太多的东西需要转义，加反斜杠很麻烦，可以用r''表示''内部的字符串默认不转义。
如果字符串内部有很多换行，需要大量的\n来转义很影响阅读，可以用`'''...'''`的格式表示多行内容，即用三个单引号将多行内容括起来，同理也可以加r，表示多行内容里的字符不转义。

4. 布尔值    
一个布尔值只有True、False两种值，可以用and，or和not运算。

5. 空值    
空值是Python里一个特殊的值，用None表示。None不能理解为0，因为0是有意义的，而None是一个特殊的空值。

6. 列表    
&emsp;&emsp;list是一种有序的集合，可以随时添加和删除其中的元素。用len()函数可以获得list元素的个数，用索引来访问list中每一个位置的元素。list查找和插入的时间随着元素的增加而增加，占用空间小，浪费内存很少。    
    - 添加新元素
      使用append(新元素)方法将新元素插到列表末尾，insert(index, 新元素)方法将新元素插入到指定下标位置。
    - 删除列表中的元素
      用pop()方法可以删除list末尾的元素，用pop(index)方法删除指定位置的元素。
    - 列表元素赋值
      直接赋值给对应的索引位置即可，比如 `list1[3]='haha'`，
    - 获取指定下标元素
      直接用下标获取即可。
    - 获取列表长度
      使用len(列表)方法    

7. 元组    
&emsp;&emsp;tuple和list非常类似，但是tuple一旦初始化就不能修改。定义一个空的tuple，可以写成()，定义一个只有1个元素的tuple必须加逗号，即`t = (1,)`，如果定义成`t=(1)`就错了，这时定义的不是tuple，是1这个数。
因为括号()既可以表示tuple，又可以表示数学公式中的小括号，这就产生了歧义，因此，Python规定，这种情况下，按小括号进行计算，计算结果自然是1。

8. 字典    
dict的实现原理和查字典是一样的，通过hash算法计算key的hash值建立索引（value的存储地址）以便于查找，所以dict的key必须是不可变对象。和list比较，dict查找和插入的速度极快，不会随着key的增加而变慢，但是需要占用大量的内存，内存浪费多。
    - 初始化：`dict_test={'test_key1': 'test_vaule1'}`
    - 赋值: `dict_test['test_key2'] ='test_value2' ，或者 dict_test.update({'test_key3': 'test_key4'}),这时候若是存在'test_key3'则直接替换掉value，若不存在，则存入新的k-v。`
    - 取值: `直接dict_test['test_key1']即可取出相应value，但是若没有该key，则会报错，所以建议使用dict_test.get('test_key1', 'undefined')来取值，取不到就返回自己指定的值（没指定值返回的是默认值None）。`
    - 弹出：`dict_test.pop('test_key1')，返回该键所对应的value，不存在该键会报错，可以dict_test.pop('test_key1','test_key11')，没有test_key1这个键的话也不会报错，返回结果是test_key11。`
    - 判断key是否存在：`'test_key1' in dict_test`    

9. set    
&emsp;&emsp;set内的元素是无序不重复的，可以看成是没有存储value的dict，只存储了key，所以放入set中的元素是不可变对象。
要创建一个set，需要提供一个list（这是初始化时传入的list，里面的每个值都将作为新set的key）作为输入集合`set_test=set(['a','b','c'])`，初始化时可以放入一个包含重复元素的list就可以得到一个过滤了重复元素的set。
添加新元素可以使用方法`set_test.add('key_test')`，注意这时候不能添加可变对象，不能将list添加进去。通过`remove('key_test')`方法可以删除元素。set可以看成数学意义上的无序和无重复元素的集合，因此，两个set可以做数学意义上的交集、并集等操作: `set_test1 & set_test2` 以及`set_test1 | set_test2`    
对于不变对象来说，调用对象自身的任意方法，不会改变该对象自身的内容，这些方法会创建新的对象并返回，因此保证了不可变对象本身永远是不可变的。    


## 获取用户输入
`name = raw_input('please enter your name: ')`    
获取到的输入是字符串类型。

## 字符串和编码
1. 编码的区别     
&emsp;&emsp;ASCII编码和Unicode编码的区别：ASCII编码是1个字节，而Unicode编码通常是2个字节（如果要用到非常偏僻的字符，就需要4个字节）。
存储时为了节约空间，出现了把Unicode编码转化为“可变长编码”的UTF-8编码。UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，ASCII编码实际上可以被看成是UTF-8编码的一部分,汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。
要传输或者存储的文本包含大量英文字符，用UTF-8编码就能节省大量空间。在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。

2. 使用记事本编辑文本过程中的编码转换流程    
用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件。    

3. Python字母和数字相互转换    
ord(字母)将字母转换成相应数字，chr(数字)将数字转换成相应字母。

4. Python中的Unicode表示方法    
Unicode表示的字符串用u'...'表示。把u'xxx'转换为UTF-8编码的'xxx'用encode('utf-8')方法，把UTF-8编码表示的字符串'xxx'转换为Unicode字符串u'xxx'用decode('utf-8')方法。

5. Python源代码编码格式    
Python2源代码一般在文件开头写上utf-8相关的注释，以便解释器按UTF-8编码读取源代码。文件开头一般为：    
`#!/usr/bin/env python`    
`# -*- coding: utf-8 -*-`    
&emsp;&emsp;第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；
第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。
也可以在文件头指定如下注释，注意等号两边不能有空格。
`#coding=utf-8` 
Python2中默认的编码格式是ASCII格式，Python3中默认的编码格式是utf-8格式，无需在文件头指定编码格式。

## 字符串格式化
&emsp;&emsp;在字符串内部，%s表示用字符串替换，%d表示用整数替换，%f表示用浮点数替换，%x表示用十六进制替换，用法和Java以及C没有太大区别。如果不太确定应该用什么，就用%s，它会把任何数据类型转换为字符串。
字符串里面的%是一个普通字符怎么办？这个时候就需要转义，用%%来表示一个%。

## 条件判断及循环
1. 条件判断
```
if <条件判断1>:
    <执行1>
elif <条件判断2>:
    <执行2>
elif <条件判断3>:
    <执行3>
else:
    <执行4>
```
注意不能丢了冒号。

2. 循环
    - for...in循环
      ```
      sum = 0
      for x in range(101):
          sum = sum + x
      print(sum)
      ```
      即打印出1到100的数字之和。
    - while循环
      ```
      sum = 0
      n = 10
      while n > 0:
          sum = sum + n
          n = n - 1
      print(sum)
      ```



------------------------------------------------------------------
参考及部分引用文档：    
<a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank">廖雪峰的官方网站 python 教程</a>    
